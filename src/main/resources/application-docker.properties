# =============================================================================
# PostgreSQL Configuration for Docker/Containerized Deployments
# =============================================================================
# This profile is activated when running the application in Docker containers.
# All values support environment variable overrides with sensible defaults.

# -----------------------------------------------------------------------------
# Database Connection Settings
# -----------------------------------------------------------------------------
# JDBC URL: Constructs PostgreSQL connection string from environment variables
# - DB_URL: Full JDBC URL override (takes precedence if set)
# - DB_HOST: Database host (default: 'db' - Docker Compose service name)
# - DB_PORT: Database port (default: 5432 - standard PostgreSQL port)
# - DB_NAME: Database name (default: 'studyrooms')
spring.datasource.url=${DB_URL:jdbc:postgresql://${DB_HOST:db}:${DB_PORT:5432}/${DB_NAME:studyrooms}}

# Database credentials (override via DB_USERNAME and DB_PASSWORD env vars)
spring.datasource.username=${DB_USERNAME:studyrooms}
spring.datasource.password=${DB_PASSWORD:studyrooms}

# PostgreSQL JDBC driver class
spring.datasource.driver-class-name=org.postgresql.Driver

# -----------------------------------------------------------------------------
# JPA / Hibernate Settings
# -----------------------------------------------------------------------------
# Use PostgreSQL-specific SQL dialect for optimized query generation
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect

# Schema management: 'update' automatically creates/modifies tables to match entities
# WARNING: Use 'validate' or 'none' in production for safety
spring.jpa.hibernate.ddl-auto=update

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
# Enable/disable demo data seeding on startup (useful for testing/demos)
demo.seed.enabled=${DEMO_SEED:true}
